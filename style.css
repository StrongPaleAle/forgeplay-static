@tailwind base;
@tailwind components;
@tailwind utilities;

:root{
    --color-primary: hsl(51, 98%, 50%);
    --color-secondary: hsl(2, 56%, 50%);
    --color-abyss: hsl(209, 54%, 10%);
    --color-shadow: hsl(209, 54%, 5%);

}
html{
    scroll-behavior: smooth;
    color-scheme: dark;
}
:focus-visible{
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
}
.cube{
    --slant: 0.5rem;
    @apply relative;
    &:before, &:after{
        content: '';
        position: absolute;
       
    }
    &:before{
        width:calc(100% + var(--slant));
        @apply h-2 bg-secondary-800;
    }
    &:after{
        height: calc(100% + var(--slant));
        @apply w-2 bg-secondary-900;
    }
    &-rb{
    
        &:before{
            top: 100%;
            left: 0;
            clip-path: polygon(0 0, calc(100% - var(--slant) ) 0, 100% 100%, var(--slant) 100% );
        }
        &:after{
            top: 0;
            left: 100%;
            clip-path: polygon(0 0, 100% var(--slant), 100% 100%, 0 calc(100% - var(--slant)));
        }
    }
    &-lb{
    
    &:before{
        top: 100%;
        right: 0;
        clip-path: polygon(var(--slant) 0, 100% 0, calc(100% - var(--slant)) 100%, 0 100% );
    }
    &:after{
        top: 0;
        right: 100%;
        clip-path: polygon(0 var(--slant), 100% 0, 100% calc(100% - var(--slant)), 0 100%);
    }
}
}
.logo-nav{
    @apply fixed top-4 left-3 md:top-0 md:left-0 md:w-16 md:h-16 md:px-3 flex justify-between items-center z-20 bg-abyss-800 opacity-0 md:opacity-100 md:relative;
    transition: opacity 0.2s ease-in-out;
    a{
        @apply block w-8;
        
    }
    &.active{
        @apply opacity-100;
    }
    @media (max-width: 767.999px){
        &:before, &:after{
            content: none !important;
        }
    }
}

.menu-toggle {
    @apply fixed top-0 right-2 z-20 py-4 w-12 h-12 flex flex-col justify-between items-center bg-abyss-800 md:hidden;
    span{
        @apply block w-6 h-0.5 bg-white;
        transition: transform 0.2s ease-in-out;
        transform-origin: center;
    }
    &.active{
        @apply bg-secondary-700;
        span{
            &:nth-child(1){
                transform: translateY(0.4375rem) rotate(-45deg);
            }
            &:nth-child(2){
                transform: scaleX(0);
                
            }
            &:nth-child(3){
                transform: translateY(-0.43725rem) rotate(45deg);
            }
        }
    }
}
.menu{
    
    @apply fixed top-0 left-0 w-full h-full md:w-auto md:h-auto bg-abyss-800 md:bg-transparent md:relative z-10 translate-x-full md:translate-x-0;
    transition: transform 0.2s ease-in-out;
    &.open{
        transform: translateX(0);
    }
    &__link{
        @apply  bg-abyss-800 inline-block;
        transform: translate(0, 0);
        transition: all 0.2s ease-in-out;
        @apply  cube cube-rb;
        span{
            @apply block p-6 md:py-3 md:px-5 bg-abyss-950 bg-opacity-0;
        }
        &.current{
            
            transform: translate(var(--slant), var(--slant));
            span{
                @apply bg-opacity-100;
            }
        }
    }
}
#cover{
    background-image: url('/assets/images/cover.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-blend-mode: soft-light;
    position: relative;
    &:after{
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        @apply h-36 bg-abyss;
        clip-path: polygon(0 0, 10% 50%, 90% 50%, 100% 0, 100% 100%, 0 100%);
    }
}
.end-shadow{
    position: absolute;
    bottom: 0.5rem;
    left: 0;
    width: 100%;
    @apply h-36 bg-secondary-700;
    clip-path: polygon(0 0, calc(10% + 0.5rem) 50%, calc(90% - 0.5rem) 50%, 100% 0, 100% 100%, 0 100%);
    &:before, &:after{
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: calc(10% + 0.5rem);
        height: 100%;
        @apply bg-secondary-600;
        clip-path: polygon(0 0, 100% 50%, calc(100% - 0.5rem) calc(50% + 0.5rem), 100% 100%, 0 100%);
    }
    &:after{
        left: auto;
        right: 0;
        clip-path: polygon(0 0, 100% 0, 100% 100%, 0.5rem 100%, 0.5rem calc(50% + 0.5rem), 0 50%);
    }
}

.logo, .logo-text{
    svg{
        width: 100%;
        height: 100%;
        fill: #fff;
    }
    height: 12vw;
    max-width: 70rem;
    width: 100%;
    filter: drop-shadow(0 0 0.5rem var(--color-abyss));
    //filter : drop-shadow(0.125rem 0.125rem 0  var(--color-primary)) drop-shadow(-0.125rem -0.125rem 0  var(--color-secondary));
}
.logo{
    min-height: 8rem;
}
.btn{
    @apply inline-block relative;
    
    isolation: isolate;
    span:not(.sr-only){
        @apply block px-4 py-2   relative z-10;
        transition: transform 0.2s ease-in-out;
        transform: translate(0);
    }
    &:before{
        content: '';
        display: block;
        position: absolute;
        inset: 0;
        @apply bg-abyss;
        z-index: -1;
        transform: translate(0.25rem, 0.25rem);
        transition: transform 0.2s ease-in-out;
    }
    &:hover{
        span{
            transform: translate(0.25rem, 0.25rem);
            --tw-bg-opacity: 0.9;
        }
        
        
    }
    &--primary{
        span{
            @apply bg-primary-500 text-abyss;
        }
       
    }
    &--abyss{
        span{
            @apply bg-abyss-800 text-white;
        }
       
    }
    &--secondary{
        span{
            @apply bg-secondary-500 text-white;
        }
        
        
    }
    &--shadow{
        &:before{
            @apply bg-abyss-950
        }
    }
    &--icon{
        span:not(.sr-only){
            @apply px-2;
           
        }
    }
    &[disabled]{
        pointer-events: none;
        opacity: 0.5;
    }
}
.section-title{
    @media (min-width: 1024px){
        writing-mode: vertical-rl;
        text-orientation: mixed;
        transform: rotate(180deg);
    }
    
}
#games{
    .games-grid{
        grid-template-columns: repeat(auto-fit, 320px);
    }
}
.game-card{
    @apply max-w-xs relative;
    filter: drop-shadow(0.25rem 0.25rem 0 var(--color-shadow));
    &__image{
        width: calc(100% - 2rem);
        margin: 0 auto;
        overflow: hidden;
        position: relative;
        z-index: 2;
        filter: drop-shadow(0.25rem 0.25rem 0 var(--color-shadow));
        img{
            transition: transform 0.3s ease-in-out;
        }
        
    }
    &__content{
        @apply w-full absolute top-full left-0 rounded-b-lg;
       
    }
    
    &__links{
        isolation: isolate;
        max-height: 0;
        transition: max-height 0.2s ease-in-out;
        overflow: hidden;
        > * {
            opacity: 0;
            transform: translateY(100%);
            transition: all 0.2s ease-in-out;
        }
    }
    &:hover, &:focus-within{
        .game-card__image{
            img{
                transform: scale(1.1);
            }
            
        }
        .game-card__links{
            max-height: 100px;
            transition: max-height 0.2s ease-in-out;
            > * {
            opacity: 1;
            transform: translateY(0);
            transition: all 0.3s ease-in-out;
        }
        }
        
    }
    &.unavailable{
        filter: grayscale(0.5);
        .game-card__image{
            
            img{
                opacity: 0.5;
            }
        }
        h3{
            opacity: 0.75;
        }
    }
}
.about-image{
    img{
        filter: drop-shadow(0.25rem 0.25rem 0 var(--color-abyss));
    }
}
.dialog{
    @apply fixed inset-0 z-50 flex items-center justify-center isolate;

    &:not(.open){
        display: none;
    }

    &__backdrop{
        @apply absolute inset-0 bg-abyss-900 opacity-75 -z-10;
    }
    .grid{
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    }
    &__content{
        @apply bg-abyss-800 rounded-lg shadow-lg p-4 relative;
        max-width: 100vw;
        max-height: 100vh;
        width: 100%;
        overflow: auto;
        padding: clamp(0.5rem, 5vw, 3.5rem);
        @media (min-width: 640px){
            max-width: 90vw;
            max-height: 90vh;
        }
    }
    .close-wrapper{
        @apply fixed top-4 right-4;
        @media (min-width: 640px){
            @apply absolute ;
        }
        
    }
    &__title{
        @apply text-2xl uppercase font-bold mb-4 lg:text-5xl text-primary;
    }
    &__info{
        @apply text-lg mb-4 grid gap-2;
        &-label{
            @apply font-bold text-primary;
        }
    }
    &__gallery{
        img{
            @media (min-width: 640px){
                max-height: 75vh;
            }
            
        }
        
    }
    &__body{
        @apply max-w-prose;
    }
    &__footer{
        @apply flex  mt-6 gap-4;
    }
}
.splide{
    &.is-active{
        
        .splide__slide{
            @media (min-width: 640px){
                opacity: 1;
                transition: opacity 0.3s ease-in-out;
                &:not(.is-active){

                    @apply opacity-30;
                }
            }
            
        }
    }
    .splide__arrow {
        @apply bg-abyss rounded-full w-12 h-12;
        border: 2px solid var(--color-primary);
        svg {
            fill: var(--color-primary);
            
        }
    }
    .splide__pagination__page{
        @apply bg-primary opacity-40;
        border: 1px solid var(--color-abyss);
        &.is-active{
            @apply opacity-100;
        }
    }
}
#contact-form{
    .block[for="form_nickname"]{
        display: none;
    }
    .feedback-box{
        @apply p-6 border-2;
        &.success{
            @apply border-green-300 bg-green-950 text-green-300;
        }
        &.error{
            @apply border-red-500 bg-red-950 text-red-500;
        }
    }
}